<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Commons</title>

<link rel="stylesheet" href="styles.css">
</head>

<body>

<!-- LOGO -->
<img src="thecommons.png" alt="The Commons Logo" class="logo" id="logo">

<!-- HEADER -->
<header class="header" id="header">
  <h1>The Commons</h1>

  <nav class="nav-buttons">
    <a href="index.html"><button>Home</button></a>
    <a href="volunteer.html"><button>Volunteering</button></a>
    <a href="nonprofits.html"><button>Nonprofits</button></a>
    <a href="events.html"><button>Events</button></a>
  </nav>
</header>

<!-- MAIN CONTENT -->
<main class="content" id="content">
  <h2>Welcome to The Commons</h2>
  <p>The Commons is a website that guides people to excellence through providing opportunities to join volunteering groups,
     internships, social events, and other productivity boosting activities.</p>
</main>

<!-- ANIMATION SCRIPT -->
<script defer>
  window.addEventListener("load", () => {
    document.getElementById('logo').classList.add('move');
    setTimeout(() => { document.getElementById('header').classList.add('show'); }, 1500);
    setTimeout(() => { document.getElementById('content').classList.add('show'); }, 2200);
  });
</script>

<!-- SEARCH BAR -->
<div class="search-container">
  <input type="text" id="searchBar" placeholder="Search opportunities...">

  <select id="categoryFilter">
    <option value="all">All Categories</option>
    <option value="volunteer">Volunteer</option>
    <option value="nonprofit">Nonprofit</option>
    <option value="event">Social Event</option>
  </select>
</div>

<!-- INTERNAL SEARCH RESULTS -->
<h2 style="text-align:center; margin-top:40px;">Website Results</h2>
<div id="siteResults" class="google-results"></div>

<!-- PRESET LINKS -->
<h2 style="text-align:center; margin-top:40px;">Recommended Links</h2>
<div id="presetResults" class="google-results"></div>



<!-- MASTER SCRIPT -->
<script>
/* ---------------------------
   ADD SEARCH BAR LINKS
--------------------------- */
const presetLinks = [
  {
    keywords: ["coffee", "crew", "happy", "coffeehouse", "mental", "health"],
    title: "Happy Crew Coffee House",
    url: "https://www.happycrewcoffeehouse.com/"
  },
  {
    keywords: ["mental", "everymind", "health", "run", "volunteer"],
    title: "EveryMind – Mental Health Association",
    url: "https://www.everymind.org/mham"
  },
  {
    keywords: ["project", "angel", "heart", "donate", "nonprofit"],
    title: "Project Angel Heart",
    url: "https://welcomehomeangel.com/donate/"
  },
  {
    keywords: ["robotics", "aria", "summer", "program", "high", "school", "stem"],
    title: "ARIA Labs Robotics",
    url: "https://www.ariarobotics.com/home"
  },
  {
    keywords: ["mines", "engineering", "summer", "stem"],
    title: "Summer Mines Engineering and Training (SUMMET)",
    url: "https://www.mines.edu/undergraduate-admissions/summer-mines-engineering-and-training-summet/"
  },
  {
    keywords: ["lockheed", "martin", "students", "high", "school", "internship", "stem"],
    title: "Lockheed Martin – High School Internship",
    url: "https://www.lockheedmartin.com/en-us/careers/candidates/students-early-careers/high-school.html"
  }
];



/* ---------------------------
   INTERNAL WEBSITE LINKS
--------------------------- */
const siteLinks = [
  { title: "Volunteering Opportunities", url: "volunteer.html", keywords: ["volunteer", "community", "help"] },
  { title: "Nonprofit Groups", url: "nonprofits.html", keywords: ["nonprofit", "charity", "organizations"] },
  { title: "Social Events", url: "events.html", keywords: ["event", "social", "meet"] },
  { title: "Home Page", url: "index.html", keywords: ["home", "commons"] }
];



/* ---------------------------
   SHOW PRESET LINK RESULTS
--------------------------- */
function showPresetLinks(query) {
  presetResultsDiv.innerHTML = "";
  if (!query.trim()) return;

  const q = query.toLowerCase();
  let matchFound = false;

  presetLinks.forEach(link => {
    if (link.keywords.some(k => q.includes(k.toLowerCase()))) {
      matchFound = true;

      const div = document.createElement("div");
      div.classList.add("preset-result");
      div.innerHTML = `<a href="${link.url}" target="_blank">${link.title}</a>`;
      presetResultsDiv.appendChild(div);
    }
  });
}




/* ---------------------------
   SHOW INTERNAL WEBSITE RESULTS
--------------------------- */
const siteResultsDiv = document.getElementById("siteResults");

function showSiteLinks(query) {
  siteResultsDiv.innerHTML = "";
  if (!query.trim()) return;

  const q = query.toLowerCase();
  let matchFound = false;

  siteLinks.forEach(link => {
    if (link.keywords.some(k => q.includes(k))) {
      matchFound = true;

      const div = document.createElement("div");
      div.classList.add("preset-result");
      div.innerHTML = `<a href="${link.url}">${link.title}</a>`;
      siteResultsDiv.appendChild(div);
    }
  });

  if (!matchFound) {
    siteResultsDiv.innerHTML = "<p>No matching pages found.</p>";
  }
}



/* ---------------------------
   SEARCH BAR EVENT
--------------------------- */
const searchBar = document.getElementById("searchBar");

searchBar.addEventListener("input", () => {
  const query = searchBar.value;

  showSiteLinks(query);   // Search inside the website
  showPresetLinks(query); // Show preset recommendations
});
</script>

</body>
</html>
